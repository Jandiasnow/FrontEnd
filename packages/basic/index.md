---
title: basic
order: 0
---

<a name="readme-top"></a>

<div align="center">

<h1>Basic warehouse </h1>

ğŸ§© [@jandiasnow/basic](https://www.npmjs.com/package/@jandiasnow/basic) is an warehouse of frontend basic.

</div>

## ğŸ†š Compare react versions 16, 17, 18, 19 [å‚è€ƒ](https://blog.csdn.net/m0_46486849/article/details/128631509)

| version                                                           | release | feature                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------------------------------------------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [v16.0.0](https://github.com/facebook/react/releases/tag/v16.0.0) | 2017    | 1. Fiber æ¶æ„ï¼šé‡å†™äº† `React` çš„æ ¸å¿ƒç®—æ³•ã€‚<br/> 2. Error Boundariesï¼šé€šè¿‡ `componentDidCatch` æ–¹æ³•æ•è·å­ç»„ä»¶é”™è¯¯ã€‚<br/> 3. Fragmentï¼šä½¿ç”¨ `<React.Fragment>` æˆ– `<>` åˆ›å»ºç»„åˆç»„ä»¶ã€‚<br/> 4. Portalsï¼šä½¿ç”¨ `ReactDOM.createPortal` åœ¨çˆ¶ç»„ä»¶ DOM å±‚æ¬¡ä¹‹å¤–æ¸²æŸ“ç»„ä»¶ã€‚<br/> 5. è‡ªå®šä¹‰ DOM å±æ€§ï¼šæ”¯æŒä¼ é€’æœªçŸ¥çš„ `HTML` å±æ€§åˆ° `DOM`ã€‚<br/> 6. æ›´å¥½çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼šé€šè¿‡ `ReactDOMServer.renderToNodeStream `æ”¯æŒæµå¼æ¸²æŸ“ã€‚<br/> 7. Context APIï¼šå®Œå…¨é‡å†™çš„æ–°ä¸Šä¸‹æ–‡ API <br/> `React.createContext` |
| [v17.0.0](https://github.com/facebook/react/releases/tag/v17.0.0) | 2020    | 1. äº‹ä»¶å§”æ‰˜çš„æ”¹å˜ï¼šå°†äº‹ä»¶å¤„ç†ç¨‹åºçš„å§”æ‰˜æ–¹å¼ä» `document` æ›´æ”¹ä¸º `React` æ ¹èŠ‚ç‚¹ã€‚<br/>2. æ–°çš„ JSX è½¬æ¢ï¼šå¼•å…¥äº†æ–°çš„ `JSX` è½¬æ¢é€»è¾‘ï¼Œå¯ä»¥åœ¨ä¸å¼•å…¥ `React` çš„æƒ…å†µä¸‹ä½¿ç”¨ `JSX`ã€‚<br/>3. ä¸»è¦ä¸“æ³¨äºå†…éƒ¨æ”¹è¿›å’Œä¸ºæœªæ¥ç‰ˆæœ¬åšå‡†å¤‡ã€‚<br/>                                                                                                                                                                                                                                                            |
| [v18.0.0](https://github.com/facebook/react/releases/tag/v18.0.0) | 2022    | 1. å¹¶å‘æ¨¡å¼ï¼ˆConcurrent Modeï¼‰ï¼šé€šè¿‡ `React.createRoot` å¯ç”¨æ–°çš„å¹¶å‘åŠŸèƒ½ã€‚<br/>2. è‡ªåŠ¨æ‰¹å¤„ç†ï¼šå¯¹ `setState` çš„è°ƒç”¨ç°åœ¨åœ¨äº‹ä»¶å¤„ç†ä¸­è‡ªåŠ¨æ‰¹å¤„ç†ã€‚<br/>3. æ–°çš„æŒ‚èµ·ï¼ˆSuspenseï¼‰åŠŸèƒ½ï¼šæ‰©å±•äº† `Suspense` ç»„ä»¶çš„èƒ½åŠ›ï¼Œç”¨äºæ•°æ®åŠ è½½ã€‚<br/>4. æœåŠ¡ç«¯æ¸²æŸ“çš„æ”¹è¿›ï¼šåŒ…æ‹¬æµå¼æ¸²æŸ“å’ŒæœåŠ¡ç«¯ `Suspense` æ”¯æŒã€‚<br/>5. æ–°çš„é’©å­ï¼ˆHooksï¼‰ï¼šä¾‹å¦‚ `useId`ï¼Œç”¨äºç”Ÿæˆç¨³å®šçš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚<br/>                                                                                                                      |
| [v19.0.0](https://19.react.dev/reference/react)                   | 2024    | 1. æ”¯æŒæ ‡ç­¾ linkï¼Œmetaï¼Œ scriptï¼Œstyleï¼Œtitle ç­‰æ ‡ç­¾ï¼Œè‡ªåŠ¨æ·»åŠ åˆ°å¤´éƒ¨                                                                                                                                                                                                                                                                                                                                                                                                                      |

## ğŸª„ hooks

`v16.8.0 å¼•å…¥ hooks`: æŠŠé¢å‘ç”Ÿå‘½å‘¨æœŸç¼–ç¨‹å˜æˆäº†é¢å‘ä¸šåŠ¡é€»è¾‘ç¼–ç¨‹ã€‚ä¸šåŠ¡ç»„ä»¶çš„å°è£…æ–¹å¼å¯ä»¥ä¿®æ”¹æˆ `Hooks + UI Component`ã€‚

#### 1. ä¼˜ç‚¹ï¼š

- è§£å†³åµŒå¥—é—®é¢˜ï¼Œç®€æ´ï¼Œä»£ç é‡æ›´å°‘ï¼šè§£å†³äº† `HOC` å’Œ `Render Props` çš„åµŒå¥—é—®é¢˜ï¼Œæ›´åŠ ç®€æ´
- è§£è€¦ï¼šå¯ä»¥æ›´æ–¹ä¾¿åœ°æŠŠ UI å’ŒçŠ¶æ€åˆ†ç¦»ï¼Œåšåˆ°æ›´å½»åº•çš„è§£è€¦
- ç»„åˆï¼šå¯ä»¥å¼•ç”¨å¦å¤–çš„ Hooks å½¢æˆæ–°çš„ Hooks, ç»„åˆå˜åŒ–ä¸‡åƒ
- è§£å†³ç±»ç»„ä»¶çš„ 3 ä¸ªé—®é¢˜: React Hooks ä¸ºå‡½æ•°ç»„ä»¶è€Œç”Ÿï¼Œä»è€Œè§£å†³äº†ç±»ç»„ä»¶çš„å‡ å¤§é—®é¢˜:
  > - this æŒ‡å‘å®¹æ˜“é”™è¯¯ï¼›
  > - ä¸šåŠ¡é€»è¾‘è¢«åˆ†å‰²åœ¨ä¸åŒå£°æ˜å‘¨æœŸä¸­ï¼Œä½¿å¾—ä»£ç éš¾ä»¥ç†è§£å’Œç»´æŠ¤ï¼›
  > - ä»£ç å¤ç”¨æˆæœ¬é«˜ï¼ˆé«˜é˜¶ç»„ä»¶å®¹æ˜“ä½¿ä»£ç é‡å‰§å¢ï¼‰;

#### 2. ç¼ºç‚¹

- è¿˜æœ‰ä¸¤ä¸ªç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸èƒ½ç”¨ hooks æ›¿ä»£ï¼šgetSnapshotBeforeUpdate å’Œ componentDidCatch
- å†™æ³•ä¸Šæœ‰é™åˆ¶:
  > - å› ä¸º hook æ˜¯ä¸€ä¸ª é“¾å¼çš„æ•°æ®ç»“æ„ è€Œä¸æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥ä¸èƒ½åµŒå¥—ï¼Œä¸èƒ½åœ¨æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ä¸­ä½¿ç”¨ï¼Œä¼šç ´åé“¾å¼ç»“æ„ï¼›
  > - åªèƒ½åœ¨å‡½æ•°é¡¶å±‚ä½¿ç”¨ï¼Œå¢åŠ äº†é‡æ„æ—§ä»£ç çš„æˆæœ¬ï¼›
  > - react hook éœ€è¦åˆ©ç”¨è°ƒç”¨é¡ºåºæ¥æ›´æ–°çŠ¶æ€å’Œè°ƒç”¨é’©å­å‡½æ•°ï¼Œæ”¾åˆ°å¾ªç¯æˆ–æ¡ä»¶åˆ†æ”¯ä¸­ï¼Œå¯èƒ½å¯¼è‡´è°ƒç”¨é¡ºåºä¸ä¸€è‡´ï¼Œå¯¼è‡´å¥‡æ€ªçš„ bugï¼›
- ä½¿ç”¨ useState æ—¶ï¼Œæ•°ç»„å¯¹è±¡ï¼Œä½¿ç”¨ pushã€popã€splice ç›´æ¥æ›´æ–°ï¼Œæ— æ•ˆ:
  > - æ¯”å¦‚ let \[nums, setNums] = useState (\[0,1,2]);
  > - nums.push (1) æ— æ•ˆï¼Œå¿…é¡»ä½¿ç”¨ nums=\[â€¦nums, 1]ï¼Œå† setNums (nums);
  > - ç±»ç»„ä»¶ä¸­ç›´æ¥ push æ˜¯æ²¡é—®é¢˜çš„ï¼›
- ä¸èƒ½ä½¿ç”¨è£…é¥°å™¨
- é¢å¤–çš„å­¦ä¹ æˆæœ¬
- ç ´åäº† PureComponentã€React.memo æµ…æ¯”è¾ƒçš„æ€§èƒ½ä¼˜åŒ–æ•ˆæœï¼›ä¸ºäº†å–æœ€æ–°çš„ props å’Œ stateï¼Œæ¯æ¬¡ render () éƒ½è¦é‡æ–°åˆ›å»ºäº‹ä»¶å¤„ç†å‡½æ•°ï¼›
- åœ¨é—­åŒ…åœºæ™¯å¯èƒ½ä¼šå¼•ç”¨åˆ°æ—§çš„ stateã€props å€¼:
  > è§£å†³æ–¹æ³•
  >
  > - ä¸è¦åœ¨ useEffect é‡Œé¢å†™å¤ªå¤šçš„ä¾èµ–é¡¹ï¼Œåˆ’åˆ†è¿™äº›ä¾èµ–é¡¹æˆå¤šä¸ªå•ä¸€åŠŸèƒ½çš„ useEffectã€‚â€œå•ä¸€èŒè´£æ¨¡å¼â€
  > - å¦‚æœä½ ç¢°åˆ°çŠ¶æ€ä¸åŒæ­¥çš„é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘ä¸‹æ‰‹åŠ¨ä¼ é€’å‚æ•°åˆ°å‡½æ•°ï¼Œè€Œä¸æ˜¯å–çˆ¶çº§ä½œç”¨åŸŸçš„å€¼ï¼›
  > - ä½¿ç”¨ useRefï¼Œä¿è¯åŒä¸€ä¸ªå¼•ç”¨ï¼›

## ğŸ“ Usage

### useState

##### `setState(n => n + 1)`: update some state multiple times

<code src="./docs/react/useStateMultipleUpdate.tsx"></code>

##### `useImmer`: updating a nested object or objects inside arrays

<code src="./docs/react/useStateNestedObjectUpdate.tsx"></code>

### useEffect

##### `debounce`: set only the last data received to avoid on-screen data flickering by use ignore

<code src="./docs/react/useStateDebounceUpdate.tsx"></code>

<!-- ### useEffectEvent -->

<!-- ##### `useEffectEvent` -->

<!-- <code src="./docs/react/useEffectEvent.tsx"></code> -->

### useReducer

##### `useReducer`

<code src="./docs/react/useReducer.tsx"></code>

##### `useImmerReducer`

<code src="./docs/react/useReducerImmer.tsx"></code>

### useContext

##### `useContext`

<code src="./docs/react/useContext.tsx"></code>

##### `useContext&useReducer`: use useReducer create useContext

<code src="./docs/react/useContextReducer.tsx"></code>

### useRef

> When to use refs
>
> - Storing `timeout` IDs
> - Storing and manipulating `DOM elements`, which we cover on the next page
> - Storing other `objects` that arenâ€™t necessary to calculate the JSX.
> - If your component needs to store `some value`, but it doesnâ€™t impact the rendering logic, choose refs.

##### `useRef`: useRef doesnâ€™t require a re-render

<code src="./docs/react/useRef.tsx"></code>

##### `new Map()`: use Map store useRef list

<code src="./docs/react/useRefList.tsx"></code>

##### `useImperativeHandle`: use useImperativeHandle get child func or value

<code src="./docs/react/useRefChild.tsx"></code>

<!-- ### useOptimistic

##### `useOptimistic`:

<code src="./docs/react/useOptimistic.tsx"></code> -->

### useTransition

##### `useTransition`: update the state without blocking the UI.

<code src="./docs/react/useTransition.tsx"></code>

### useLayoutEffect

##### `useLayoutEffect`: fires before the browser repaints the screen

<code src="./docs/react/useLayoutEffect.tsx"></code>

### useId

##### `useId`: generating unique IDs that can be passed to accessibility attributes

<code src="./docs/react/useId.tsx"></code>

### useDeferredValue

##### `useDeferredValue`: defer updating a part of the UI

<code src="./docs/react/useDeferredValue.tsx"></code>

<!-- ### useActionState -->

<!-- ##### `useActionState`:  -->

<!-- <code src="./docs/react/useActionState.tsx"></code> -->

### useSyncExternalStore

##### `useSyncExternalStore`: subscribing to an external store with a built-in Hook

<code src="./docs/react/useSyncExternalStore.tsx"></code>

### flushSync

##### `flushSync`: use flushSync force update dom

<code src="./docs/react/flushSync.tsx"></code>

### \</>Profiler

##### `<Profiler id="Sidebar" onRender={(id, phase, actualDuration, baseDuration, startTime, commitTime) => {}} ></Profiler>`: measure rendering performance of a React tree

<code src="./docs/react/Profiler.tsx"></code>

### \</>StrictMode

##### `<StrictMode></StrictMode>`: lets you find common bugs in your components early during development.

<code src="./docs/react/StrictMode.tsx"></code>

### \</>Suspense

##### `<Suspense fallback={<Loading />}></Suspense>`: lets you display a fallback until its children have finished loading.

<code src="./docs/react/Suspense.tsx"></code>

### cache (server)

##### `cache`: only for use with React Server Components ; lets you cache the result of a data fetch or computation.

```
const func = cache(calculateFunc);


import {cache} from 'react';

const calculateNorm = cache((x, y, z) => {
  // ...
});

function MapMarker(props) {
  // âœ… Good: Pass primitives to memoized function
  const length = calculateNorm(props.x, props.y, props.z);
  // ...
}

function App() {
  return (
    <>
      <MapMarker x={10} y={10} z={10} />
      <MapMarker x={10} y={10} z={10} />
    </>
  );
}

```

### lazy

##### `lazy`: defer loading componentâ€™s code until it is rendered for the first time.

<code src="./docs/react/lazy.tsx"></code>

### memo

##### `memo`: skip re-rendering a component when its props are unchanged (when its parent component is re-rendered).

<code src="./docs/react/memo.tsx"></code>

### use

##### `use`: read the value of a resource like a Promise or context.ï¼ˆcan be called within loops and conditional statements like ifï¼‰

<code src="./docs/react/use.tsx"></code>

### createPortal

##### `createPortal`: render some children into a different part of the DOM.

<code src="./docs/react/createPortal.tsx"></code>

<div align="right">

[![][back-to-top]](#readme-top)

</div>

[back-to-top]: https://img.shields.io/badge/-BACK_TO_TOP-151515?style=flat-square
